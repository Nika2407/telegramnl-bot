from telegram import Update, ReplyKeyboardMarkup, InputMediaPhoto
from telegram.ext import ApplicationBuilder, CommandHandler, MessageHandler, ContextTypes, filters
import os

# –ß–∏—Ç–∞–µ–º —Ç–æ–∫–µ–Ω –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è
TOKEN = os.environ.get("BOT_TOKEN")

# –ü—É—Ç–∏ –∫ –ø–∞–ø–∫–∞–º —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º–∏
FAQ_TEXTS_DIR = os.path.join(os.getcwd(), 'faq_texts')
FAQ_PHOTOS_DIR = os.path.join(os.getcwd(), 'faq_photos')

# –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
MAIN_MENU = [
    ['üìö 1Ô∏è‚É£ –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã', 'üìû 2Ô∏è‚É£ –ö–æ–Ω—Ç–∞–∫—Ç—ã'],
    ['üõí 3Ô∏è‚É£ –ì–¥–µ –∫—É–ø–∏—Ç—å', 'üéÅ 4Ô∏è‚É£ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã'],
    ['üíä 5Ô∏è‚É£ –ß–µ–º NL –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –∞–ø—Ç–µ–∫–∏?']
]

# –ú–µ–Ω—é FAQ (–ø—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤)
FAQ_MENU = [
    '–ì–¥–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø—Ä–æ–¥—É–∫—Ü–∏—è?',
    '–ß—Ç–æ —Ç–∞–∫–æ–µ ED Smart?',
    '–ß–µ–º ED Smart –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ –ø—Ä–æ—Ç–µ–∏–Ω–∞?',
    '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–¥—É–∫—Ü–∏—è –¥–ª—è –∂–µ–Ω—Å–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è?',
    '–ú–æ–∂–Ω–æ –ª–∏ –¥–∞–≤–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ü–∏—é –¥–µ—Ç—è–º?',
    '–ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ü–∏—é –ø–æ–¥ —Å–µ–±—è?',
    '–ß—Ç–æ —Ç–∞–∫–æ–µ DrainEffect –∏ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç?',
    '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–¥—É–∫—Ü–∏—è –¥–ª—è –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞?',
    '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–¥—É–∫—Ü–∏—è –¥–ª—è –º—É–∂—á–∏–Ω?',
    '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–¥—É–∫—Ü–∏—è –¥–ª—è –æ—á–∏—â–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–º–∞?',
    '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–¥—É–∫—Ç—ã –¥–ª—è –∂–∏–≤–æ—Ç–Ω—ã—Ö?',
    '–ü–æ—á–µ–º—É –ø—Ä–æ–¥—É–∫—Ü–∏—è NL —Ç–∞–∫–∞—è –¥–æ—Ä–æ–≥–∞—è?',
    '–ë–ê–î ‚Äî —ç—Ç–æ —Ö–∏–º–∏—è?'
]

FAQ_QUESTIONS_TO_FILE = {
    '–ì–¥–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø—Ä–æ–¥—É–∫—Ü–∏—è?': 'faq_1.txt',
    '–ß—Ç–æ —Ç–∞–∫–æ–µ ED Smart?': 'faq_2.txt',
    '–ß–µ–º ED Smart –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ –ø—Ä–æ—Ç–µ–∏–Ω–∞?': 'faq_3.txt',
    '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–¥—É–∫—Ü–∏—è –¥–ª—è –∂–µ–Ω—Å–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è?': 'faq_4.txt',
    '–ú–æ–∂–Ω–æ –ª–∏ –¥–∞–≤–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ü–∏—é –¥–µ—Ç—è–º?': 'faq_5.txt',
    '–ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ü–∏—é –ø–æ–¥ —Å–µ–±—è?': 'faq_6.txt',
    '–ß—Ç–æ —Ç–∞–∫–æ–µ DrainEffect –∏ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç?': 'faq_7.txt',
    '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–¥—É–∫—Ü–∏—è –¥–ª—è –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞?': 'faq_8.txt',
    '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–¥—É–∫—Ü–∏—è –¥–ª—è –º—É–∂—á–∏–Ω?': 'faq_9.txt',
    '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–¥—É–∫—Ü–∏—è –¥–ª—è –æ—á–∏—â–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–º–∞?': 'faq_10.txt',
    '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–¥—É–∫—Ç—ã –¥–ª—è –∂–∏–≤–æ—Ç–Ω—ã—Ö?': 'faq_11.txt',
    '–ü–æ—á–µ–º—É –ø—Ä–æ–¥—É–∫—Ü–∏—è NL —Ç–∞–∫–∞—è –¥–æ—Ä–æ–≥–∞—è?': 'faq_12.txt',
    '–ë–ê–î ‚Äî —ç—Ç–æ —Ö–∏–º–∏—è?': 'faq_13.txt',
}

FAQ_QUESTIONS_TO_IMAGES = {
    '–ß—Ç–æ —Ç–∞–∫–æ–µ ED Smart?': ['faq_2.jpg'],
    '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–¥—É–∫—Ü–∏—è –¥–ª—è –∂–µ–Ω—Å–∫–æ–≥–æ –∑–¥–æ—Ä–æ–≤—å—è?': ['faq_4_1.jpg', 'faq_4_2.jpg', 'faq_4_3.jpg', 'faq_4_4.jpg', 'faq_4_5.jpg'],
    '–ú–æ–∂–Ω–æ –ª–∏ –¥–∞–≤–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ü–∏—é –¥–µ—Ç—è–º?': ['faq_5.jpg'],
    '–ß—Ç–æ —Ç–∞–∫–æ–µ DrainEffect –∏ –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç?': ['faq_7.jpg'],
    '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–¥—É–∫—Ü–∏—è –¥–ª—è –∏–º–º—É–Ω–∏—Ç–µ—Ç–∞?': ['faq_8_1.jpg', 'faq_8_2.jpg', 'faq_8_3.jpg'],
    '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–¥—É–∫—Ü–∏—è –¥–ª—è –º—É–∂—á–∏–Ω?': ['faq_9.jpg'],
    '–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–¥—É–∫—Ç—ã –¥–ª—è –∂–∏–≤–æ—Ç–Ω—ã—Ö?': ['faq_11.jpg'],
}

CONTACTS_TEXT = (
    "üìû –ú–æ–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã:\n"
    "‚Äî Telegram: @nikkushka\n"
    "‚Äî –¢–µ–ª–µ—Ñ–æ–Ω: +375 29 338 42 39 (WhatsApp/Viber)\n"
    "‚Äî Instagram: @nikkussyaa\n\n"
    "üí¨ –ö–∞–∫ —Å–æ –º–Ω–æ–π —Å–≤—è–∑–∞—Ç—å—Å—è:\n"
    "‚Äî –ü–æ –≤–æ–ø—Ä–æ—Å–∞–º –∑–∞–∫–∞–∑–æ–≤ ‚Äî –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (Telegram/WhatsApp/Viber/Instagram).\n"
    "‚Äî –û—Ç–∑—ã–≤—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã ‚Äî –º–æ–∂–Ω–æ –≤ –æ–±—â–∏–π —á–∞—Ç!"
)

WHERE_TO_BUY_TEXT = (
    "üîó –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω NL:\n"
    "https://ng.nlstar.com ‚Äî –≤—Å—è –ª–∏–Ω–µ–π–∫–∞ –ø—Ä–æ–¥—É–∫—Ü–∏–∏: –ø–∏—Ç–∞–Ω–∏–µ, –∫–æ—Å–º–µ—Ç–∏–∫–∞, –ë–ê–î—ã –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã.\n\n"
    "üõí –ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑:\n"
    "1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è –Ω–∞ —Å–∞–π—Ç–µ.\n"
    "2. –£–∫–∞–∂–∏ ID –ø–∞—Ä—Ç–Ω—ë—Ä–∞: 375-6632182\n"
    "3. –í—ã–±–µ—Ä–∏ –ø—Ä–æ–¥—É–∫—Ç—ã –∏ –æ—Ñ–æ—Ä–º–∏ –∑–∞–∫–∞–∑.\n"
    "4. –ü–æ–ª—É—á–∞–π –∫—ç—à–±—ç–∫ –¥–æ 10% —Å –∫–∞–∂–¥–æ–π –ø–æ–∫—É–ø–∫–∏!"
)

CERTIFICATES_TEXT = (
    "üå∏ –ü—Ä–∏–≤–µ—Ç, –≤—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã NL –ø—Ä–æ—Ö–æ–¥—è—Ç —Å—Ç—Ä–æ–≥—É—é —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –∫–∞—á–µ—Å—Ç–≤–∞!\n\n"
    "üîπ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã?\n"
    "1Ô∏è‚É£ –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª—é–±–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ NL (https://ng.nlstar.com/ru/).\n"
    "2Ô∏è‚É£ –í —Ä–∞–∑–¥–µ–ª–µ ¬´–î–æ–∫—É–º–µ–Ω—Ç—ã¬ª –Ω–∞–π–¥–µ—à—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞, –¥–µ–∫–ª–∞—Ä–∞—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –∏ –¥—Ä—É–≥–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã.\n\n"
    "üí° –ü—Ä–∏–º–µ—Ä:\n"
    "‚Äî –î–ª—è Lactoferra —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –∑–¥–µ—Å—å (https://ng.nlstar.com/ru/product/73604).\n\n"
    "üìå –í–∞–∂–Ω–æ:\n"
    "‚Äî –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –µ—Å—Ç—å —É –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞.\n"
    "‚Äî –û–Ω–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–æ—Ä–º–∞–º –†–§/–ï–ê–≠–°."
)

NL_VS_PHARMACY_TEXT = (
    "üåø NL vs –ê–ø—Ç–µ–∫–∞: –≤—ã–±–∏—Ä–∞–π –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ\n\n"
    "–¢—ã –∑–∞—Å–ª—É–∂–∏–≤–∞–µ—à—å –Ω–µ –ø—Ä–æ—Å—Ç–æ –≤–∏—Ç–∞–º–∏–Ω—ã ‚Äî –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç, –∫–∞—á–µ—Å—Ç–≤–æ –∏ –∑–∞–±–æ—Ç—É.\n"
    "–í–æ—Ç –ø–æ—á–µ–º—É –≤—Å—ë –±–æ–ª—å—à–µ –ª—é–¥–µ–π –≤—ã–±–∏—Ä–∞—é—Ç NL International, –∞ –Ω–µ –∞–ø—Ç–µ—á–Ω—ã–µ –∞–Ω–∞–ª–æ–≥–∏:\n\n"
    "‚úÖ 1. –°–æ—Å—Ç–∞–≤, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç\n"
    "–ê–ø—Ç–µ–∫–∞:\n"
    "‚Äî –ú–∞–≥–Ω–∏–π –≤ —Ñ–æ—Ä–º–µ –æ–∫—Å–∏–¥–∞ (—É—Å–≤–æ–µ–Ω–∏–µ ~5%)\n"
    "‚Äî –ê—Å–∫–æ—Ä–±–∏–Ω–∫–∞ –±–µ–∑ –∑–∞—â–∏—Ç—ã\n"
    "‚Äî –ö–æ–ª–ª–∞–≥–µ–Ω –∂–∏–≤–æ—Ç–Ω–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è\n\n"
    "NL:\n"
    "‚Äî –ú–∞–≥–Ω–∏–π —Ü–∏—Ç—Ä–∞—Ç –∏ –º–∞–ª–∞—Ç (—É—Å–≤–æ–µ–Ω–∏–µ –¥–æ 90%)\n"
    "‚Äî –õ–∏–ø–æ—Å–æ–º–∞–ª—å–Ω—ã–π –≤–∏—Ç–∞–º–∏–Ω –° (–≤ 4,5 —Ä–∞–∑–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ)\n"
    "‚Äî –ú–æ—Ä—Å–∫–æ–π –∫–æ–ª–ª–∞–≥–µ–Ω-–ø–µ–ø—Ç–∏–¥—ã (–¥–æ—Ö–æ–¥–∏—Ç –¥–æ –∫–æ–∂–∏!)\n\n"
    "üßÉ 2. –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥\n"
    "–ê–ø—Ç–µ–∫–∞: —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—ã–µ –ø—Ä–µ–ø–∞—Ä–∞—Ç—ã, –¥–æ–∑–∏—Ä–æ–≤–∫–∏ –ø–æ–¥–±–∏—Ä–∞–π —Å–∞–º\n"
    "NL: –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã ‚Äî ¬´3D Slim¬ª, ¬´Immuno Box¬ª, ¬´Detox¬ª\n\n"
    "üß™ 3. –ö–∞—á–µ—Å—Ç–≤–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å\n"
    "NL ‚Äî –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –≤ –Ω–∞—É—á–Ω–æ–º –∫–ª–∞—Å—Ç–µ—Ä–µ –ö–æ–ª—å—Ü–æ–≤–æ, —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã GMP, ISO 22000, —Ç–µ—Å—Ç—ã –Ω–∞ —Ç—è–∂–µ–ª—ã–µ –º–µ—Ç–∞–ª–ª—ã\n\n"
    "üí¨ 4. –ê —á—Ç–æ –≥–æ–≤–æ—Ä—è—Ç –∫–ª–∏–µ–Ω—Ç—ã?\n"
    "¬´–ü–∏–ª–∞ –∞–ø—Ç–µ—á–Ω—ã–π –∫–æ–ª–ª–∞–≥–µ–Ω ‚Äî –Ω–µ –∑–∞–º–µ—Ç–∏–ª–∞ –Ω–∏—á–µ–≥–æ. NL ‚Äî —á–µ—Ä–µ–∑ 2 –Ω–µ–¥–µ–ª–∏ –∫–æ–∂–∞ —Å—Ç–∞–ª–∞ —Å–∏—è—é—â–µ–π!¬ª\n\n"
    "üíö NL ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –ë–ê–î—ã, —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–∏—Ç–∞–Ω–∏–µ, –Ω–∞—É—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥, —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –∑–∞–±–æ—Ç–∞."
)

def main_menu_keyboard():
    return ReplyKeyboardMarkup(MAIN_MENU, resize_keyboard=True)

def faq_menu_keyboard():
    buttons = [[q] for q in FAQ_MENU]
    buttons.append(['–ù–∞–∑–∞–¥', '–ú–µ–Ω—é'])
    return ReplyKeyboardMarkup(buttons, resize_keyboard=True)

def back_menu_keyboard():
    return ReplyKeyboardMarkup([['–ù–∞–∑–∞–¥', '–ú–µ–Ω—é']], resize_keyboard=True)

def read_faq_text(filename):
    try:
        with open(os.path.join(FAQ_TEXTS_DIR, filename), 'r', encoding='utf-8') as f:
            return f.read()
    except Exception as e:
        return "–ò–∑–≤–∏–Ω–∏—Ç–µ, –æ—Ç–≤–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω."

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    welcome_text = (
        "üå∏ –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π! –Ø ‚Äî @VNLhelperbot_ \n"
        "–¢–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫ –ø–æ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ NL, —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Å –∑–∞–±–æ—Ç–æ–π –∏ –¥–æ–≤–µ—Ä–∏–µ–º.\n\n"
        "üí° –ß—Ç–æ —è —É–º–µ—é:\n"
        "‚Äî –û—Ç–≤–µ—á–∞—é –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –ø—Ä–æ–¥—É–∫—Ç–∞–º\n"
        "‚Äî –†–∞—Å—Å–∫–∞–∑—ã–≤–∞—é, –≥–¥–µ –∫—É–ø–∏—Ç—å\n"
        "‚Äî –û–±—ä—è—Å–Ω—è—é, –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è\n"
        "‚Äî –ü–æ–º–æ–≥–∞—é –≤—ã–±—Ä–∞—Ç—å –ø—Ä–æ–¥—É–∫—Ü–∏—é –ø–æ–¥ —Å–µ–±—è\n"
        "‚Äî –û—Ç–ø—Ä–∞–≤–ª—è—é —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ –æ—Ç–∑—ã–≤—ã\n\n"
        "–í—Å—ë –æ—Ç –ª–∏—Ü–∞ –í–µ—Ä–æ–Ω–∏–∫–∏ ‚Äî —á–µ—Å—Ç–Ω–æ, –ø–æ –æ–ø—ã—Ç—É –∏ —Å –∑–∞–±–æ—Ç–æ–π üåø"
    )
    await update.message.reply_text(welcome_text, reply_markup=main_menu_keyboard())

async def reply_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
    text = update.message.text

    if text == 'üìö 1Ô∏è‚É£ –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã':
        await update.message.reply_text('üìå –í—ã–±–µ—Ä–∏ –≤–æ–ø—Ä–æ—Å:', reply_markup=faq_menu_keyboard())
        return
    elif text == 'üìû 2Ô∏è‚É£ –ö–æ–Ω—Ç–∞–∫—Ç—ã':
        await update.message.reply_text(CONTACTS_TEXT, reply_markup=back_menu_keyboard())
        return
    elif text == 'üõí 3Ô∏è‚É£ –ì–¥–µ –∫—É–ø–∏—Ç—å':
        await update.message.reply_text(WHERE_TO_BUY_TEXT, reply_markup=back_menu_keyboard())
        return
    elif text == 'üéÅ 4Ô∏è‚É£ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã':
        await update.message.reply_text(CERTIFICATES_TEXT, reply_markup=back_menu_keyboard())
        return
    elif text == 'üíä 5Ô∏è‚É£ –ß–µ–º NL –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –∞–ø—Ç–µ–∫–∏?':
        await update.message.reply_text(NL_VS_PHARMACY_TEXT, reply_markup=back_menu_keyboard())
        return

    if text in FAQ_MENU:
        filename = FAQ_QUESTIONS_TO_FILE.get(text)
        if not filename:
            await update.message.reply_text("–ò–∑–≤–∏–Ω–∏—Ç–µ, –æ—Ç–≤–µ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.", reply_markup=faq_menu_keyboard())
            return

        answer_text = read_faq_text(filename)
        photos = FAQ_QUESTIONS_TO_IMAGES.get(text)
        if photos:
            media_group = []
            for photo_name in photos:
                photo_path = os.path.join(FAQ_PHOTOS_DIR, photo_name)
                if os.path.isfile(photo_path):
                    media_group.append(InputMediaPhoto(open(photo_path, 'rb')))
            if media_group:
                await update.message.reply_text(answer_text)
                await update.message.reply_media_group(media_group)
                return

        await update.message.reply_text(answer_text, reply_markup=faq_menu_keyboard())
        return

    if text == '–ù–∞–∑–∞–¥':
        await update.message.reply_text('üìå –í—ã–±–µ—Ä–∏ –≤–æ–ø—Ä–æ—Å:', reply_markup=faq_menu_keyboard())
        return
    if text == '–ú–µ–Ω—é':
        await update.message.reply_text('–í—ã –≤–µ—Ä–Ω—É–ª–∏—Å—å –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é.', reply_markup=main_menu_keyboard())
        return

    await update.message.reply_text(
        "–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –Ω–µ –ø–æ–Ω–∏–º–∞—é —ç—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å.\n"
        "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –∫–Ω–æ–ø–∫—É –∏–∑ –º–µ–Ω—é.",
        reply_markup=main_menu_keyboard()
    )

if __name__ == '__main__':
    app = ApplicationBuilder().token(TOKEN).build()
    app.add_handler(CommandHandler('start', start))
    app.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND, reply_message))

    PORT = int(os.environ.get('PORT', 8443))
    app.run_webhook(
        listen="0.0.0.0",
        port=PORT,
        webhook_url="https://telegram-nl-bot.onrender.com"
    )
